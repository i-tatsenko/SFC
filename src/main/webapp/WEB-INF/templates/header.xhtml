<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <h:outputStylesheet library="css" value="styles.css"/>
</h:head>
<h:body>
    <ui:composition>
        <h:panelGrid
                style="background: #99B2B7;width: 100%; height: 100px; border-top-left-radius : 10px; border-top-right-radius : 10px">
            <h:form>
                <p:tabMenu style="position: absolute; left: 0; width: 700px; margin-left: 25%" activeIndex="-1">
                    <p:menuitem value="Manage users" icon="ui-icon-star" outcome="/faces/secoff/sec_off_main.xhtml"
                                rendered="#{loginBean.hasAccess('ROLE_SECURITY_OFFICER')}"/>
                    <p:menuitem value="Fish supply" outcome="/faces/gm/reg_new_ship_supply.xhtml"
                                rendered="#{loginBean.hasAccess('ROLE_GENERAL_MANAGER')}"/>
                    <p:menuitem value="Coldstore" outcome="/faces/gm/coldstore.xhtml"
                                rendered="#{loginBean.hasAccess('ROLE_GENERAL_MANAGER')}"/>
                    <p:menuitem value="Supplies" outcome="/faces/subzero/new_supps.xhtml"
                                rendered="#{loginBean.hasAccess('ROLE_COLD_STORE_MANAGER')}"/>
                    <p:menuitem value="Supplies movements" outcome="/faces/subzero/supplies_movement.xhtml"
                                rendered="#{loginBean.hasAccess('ROLE_COLD_STORE_MANAGER')}"/>
                </p:tabMenu>
            </h:form>
            <h:form style="position: absolute; right: 0; top: 5px">
                <h:panelGrid columns="3" rendered="#{loginBean.authenticated}" style="margin: 10px">
                    <p:outputLabel value="Username: "/>
                    <h:outputText style="right: 0; text-decoration: underline" value="#{loginBean.username}"/>
                    <p:commandLink value="Logout" ajax="false" action="#{loginBean.doLogout}"/>
                </h:panelGrid>

                <h:panelGrid columns="2" cellspacing="1" rendered="#{!loginBean.authenticated}" style="text-align: right; margin-right: 10px; margin-top: 10px" >
                    <p:commandButton value="Login" ajax="false" action="#{loginBean.goToLogin}"
                                     style="margin-left: auto; margin-right: 0;"/>
                    <p:commandButton value="Register" ajax="false" action="/faces/register"/>
                </h:panelGrid>
            </h:form>
        </h:panelGrid>
        <h:link outcome="/faces/index.xhtml">
            <h:graphicImage library="images" name="logo_sfc.png"
                            style="position: absolute; left: 5%; top:-10px; height: 120px"/>
        </h:link>
    </ui:composition>
</h:body>
</html>
